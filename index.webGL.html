<html>
	<head>
		<title>VR-Setup</title>
		<meta name="description" content="This is 0% personal code.  Just an organization of others work.">
		<meta name="keywords" content="#InformationExplosion">
		<meta id="author" name="author" content="Me">
		<link rel="alternate" href="https://littlerojo.com" hreflang="en-us" />
		<link rel="shortcut icon" href="https://littlerojo.com/img/vrLogo.png" type="image/x-icon" />

		<link rel="apple-touch-icon" href="https://littlerojo.com/img/vrLogo.png">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-title" content="VR-Setup" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale = 1.0, minimum-scale=1.0, maximum-scale=1.0"/>

		<script type="text/javascript" src="js/three.min.js"></script>
		<script type="text/javascript" src="js/OrbitControls.js" ></script>    	
		<script type="text/javascript" src="js/Tween.js" ></script>
		<script type="text/javascript" src="js/jquery-3.1.0.js"></script>

		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-80236281-1', 'auto');
			ga('send', 'pageview');
		</script>

	</head>	
	<body style="margin:0px" bgcolor="black">
		<script>
			var stopScene = false;
			function AnimateScene( delta ) {
				if( stopScene) {
					return;
				}
				
				orbitControls.update();
				
				renderer.render( scene, camera );
				requestAnimationFrame( AnimateScene );
			}

			function onWindowResize( event ) {
				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );
				renderer.render( scene, camera );
			}

			function getDirectionalLight( _ ) {
				var directionalLight = new THREE.DirectionalLight( _.color, _.intensity );
				directionalLight.position.set( _.x, _.y, _.z );
				directionalLight.castShadow = _.shadow;
				return directionalLight;
			}

			function getAmbientLight( _ ) {
				var ambientLight = new THREE.AmbientLight( _.color, _.intensity );
				return ambientLight;
			}

			function getSpotLight( _ ) {
				var spotLight = new THREE.SpotLight( _.color, _.intensity );
				spotLight.position.set( _.x, _.y, -_.z );
				return spotLight;
			}

			function getPlane( _ ) {
				var planeGeometry = new THREE.PlaneGeometry( _.width, _.height, 10, 10 );    
				var planeMaterial = new THREE.MeshPhongMaterial( { 
					color: _.color, 
					side: THREE.DoubleSide,
					map: THREE.ImageUtils.loadTexture( _.map ), 
				} );				
				var planeMesh = new THREE.Mesh( planeGeometry, planeMaterial );
				planeMesh.receiveShadow = true;
				if( _.x ) {
					planeMesh.position.set( _.x, _.y, _.z );
				}				
				return planeMesh; 
			}

			function deg( degree ) { 
				return degree * ( Math.PI / 180 ); 
			}

			function rand( min, max ) {
				return Math.random() * max + min;
			}
			
			$( '.no-zoom' ).bind( 'touchend' , function( e ) {
				e.preventDefault();
			});
			window.addEventListener( 'resize', onWindowResize, false );
			
			//All these need work for custom controls
			//window.addEventListener( 'mousedown', onMouseDown, false );
			//window.addEventListener( 'mousemove', onMouseMove, false );
			//window.addEventListener( 'mouseup', onMouseUp, false );

			//window.addEventListener( 'DOMMouseScroll', onMouseWheel, false ); 

			//window.addEventListener( 'touchstart', onTouchStart, false );
			//window.addEventListener( 'touchmove', onTouchMove, false );
			//window.addEventListener( 'touchend', onTouchEnd, false );
			//window.addEventListener( 'orientationchange', onOrientationChange, false );

			//window.addEventListener( 'keydown', onKeyDown, false );

			mainCanvas = document.createElement( 'canvas' );
			mainCanvas.style.top = 0;
			mainCanvas.style.left = 0;
			mainCanvas.width = window.innerWidth;
			mainCanvas.height = window.innerHeight;
			
			renderer = new THREE.WebGLRenderer({ canvas:mainCanvas, antilias: true, alpha: true, clearAlpha: 1});
			renderer.setPixelRatio( window.devicePixelRatio );
			renderer.setSize( window.innerWidth, window.innerHeight );
			renderer.setClearColor( 0x000000, 1 );
			renderer.shadowMap.enabled = true;
			renderer.shadowMap.renderReverseSided = false;
			renderer.sortObjects = false;
			
			camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
			camera.position.set( 0, 0, -1 );

			orbitControls = new THREE.OrbitControls( camera );
			orbitControls.zoomSpeed = .7;
			orbitControls.rotateSpeed = .001;
			orbitControls.keyPanSpeed = .001;
			//orbitControls.position0 = camera.position;
			//orbitControls.target = new THREE.Vector3( 0, 0, 0 );
		
			scene = new THREE.Scene();
			clock = new THREE.Clock();
			cameraTween = new TWEEN.Tween( camera.position );

			var ambientLight = getAmbientLight( {
				color: 0xFFFFFF,
				intensity: .8,
			} );
			scene.add( ambientLight );

			var spotLight = getSpotLight( {
				x: 0,
				y: 1,
				z: 0,
				color: 0xFF0000,//CE0FA,
				intensity: 100,				
			} );
			//scene.add( spotLight );

			var plane = getPlane( {
				x: 0,
				y: 0,
				z: 0,
				width: 1,
				height: 2,	
				color: 0xFFFFFF,//696969,	
				map: 'img/lawson.jpg',					
			} );
			scene.add( plane );			

			document.body.appendChild( mainCanvas );
			AnimateScene();	
		</script>	
	</body>
</html>